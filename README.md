> # Inception

This project aims to virtualize several Docker images and create a network of containers for a WordPress website. The following containers are created:

* A Docker container with NGINX with TLSv1.2 or TLSv1.3 only [Details](#nginx-container)
* A Docker container with WordPress + php-fpm
* A Docker container with MariaDB
* A volume that contains the WordPress database
* A second volume that contains the WordPress website files
* A docker-network that establishes the connection between the containers

## Getting Started

This project consists in having you set up a small infrastructure composed of different
services under specific rules. The whole project has to be done in a virtual machine. You
have to use `docker compose`

* Docker installed on your machine
* Familiarity with basic Docker concepts and commands

## Table of Contents

1. [X] [Docker](#Docker)
2. [X] [Docker Images](#docker-Images)
3. [X] [Docker Containers](#docker-Containers)
4. [X] [Docker Volumes](#docker-volumes)
5. [X] [Docker Network](#docker-network)
6. [X] [NGINX Container](#nginx-container)
7. [X] [WordPress Container](#wordpress-container)
8. [X] [MariaDB Container](#mariadb-container)

## Docker

 Docker is a software platform that allows you to create, deploy, and run applications inside containers. Containers are isolated environments that include all the necessary files and dependencies needed to run an application, making it easy to deploy and manage applications across different environments. Docker provides a standardized and reproducible way to package and distribute applications, making it easier for developers to create, test, and deploy their applications.

## Docker Images

A Docker image is a pre-built environment for running a containerized application, consisting of all necessary files, libraries, and configuration settings packaged into a single file system

## Docker Containers

A Docker container is a runnable instance of a Docker image, isolated from the host system and its resources, with its own file system, network, and process space.

## Docker Volumes

A Docker volume is a way to store data generated by and/or used by a Docker container, that persist even after the container is deleted. Volumes can be created and managed independently of containers, and can be used by multiple containers.

## Docker Network

A Docker network is a virtual network that connects Docker containers, allowing them to communicate with each other and the host system, as well as to isolate network traffic between containers.

# Diagram of the Expected Result

## NGINX Container

The NGINX container contains the NGINX web server with TLSv1.2 or TLSv1.3 only.

Folder File :

* `conf/nginx.conf`
* `Dockerfile`

INSTALL :

```
FROM debian:buster

RUN apt-get update && apt-get install -y nginx openssl
RUN openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/mmasstou.key -out /etc/ssl/certs/mmasstou.crt -subj="/C=MA/ST=rabat/O=./CN=mmasstou.42.fr"
# COPY conf/nginx.conf /etc/nginx/sites-available/default
EXPOSE 443
CMD ["nginx", "-g", "daemon off;"]
```



* `FROM debian:buster ` : The image is based on the latest version of Debian Buster.
* `RUN apt-get update && apt-get install -y nginx openssl ` : The `RUN` command updates the package list and installs Nginx and OpenSSL.
* `RUN openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/ssl/private/mmasstou.key -out /etc/ssl/certs/exemple.crt -subj="/C=MA/ST=rabat/O=./CN=exemple.42.fr" ` : The `RUN` command generates a self-signed SSL certificate for use with the Nginx server.
* `EXPOSE 443 ` : The `EXPOSE` directive specifies that the Nginx server will listen on port 443.
* `CMD ["nginx", "-g", "daemon off;"] ` : The `CMD` command starts the Nginx server in the foreground.

## WordPress Container

The WordPress container contains WordPress and php-fpm, installed and configured without NGINX.

## MariaDB Container

The MariaDB container contains the MariaDB database server, without NGINX.

## Volumes

There are two volumes in this project:

- A volume that contains the WordPress database
- A volume that contains the WordPress website files

## Docker Network

The Docker network in this project connects the containers.

For more information on how to build these containers, please refer to the [Code](#code) section.

## Code

To build the containers, follow the steps in the [Code](#code) section of this `README.md` file.
